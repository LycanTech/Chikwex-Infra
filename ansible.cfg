[defaults]
# Inventory configuration
inventory = inventories/dev/

# Roles path
roles_path = ./roles

# Remote user settings
remote_user = ec2-user
private_key_file = ~/.ssh/chikwex-infra-key.pem

# SSH connection settings
host_key_checking = False
timeout = 30
forks = 10

# Logging
log_path = ./ansible.log

# Retry files
retry_files_enabled = True
retry_files_save_path = ./retry

# Fact caching
gathering = smart
fact_caching = jsonfile
fact_caching_connection = ./facts_cache
fact_caching_timeout = 86400

# Callback plugins
stdout_callback = default

# Vault
vault_password_file = .vault_pass

[inventory]
# Enable inventory plugins
enable_plugins = amazon.aws.aws_ec2, yaml, ini

[privilege_escalation]
become = True
become_method = sudo
become_user = root
become_ask_pass = False

[ssh_connection]
# SSH optimizations
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null
pipelining = True
control_path = /tmp/ansible-%%r@%%h:%%p

[persistent_connection]
connect_timeout = 30
command_timeout = 30
